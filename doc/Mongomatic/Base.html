<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: Mongomatic::Base</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/mongomatic/base_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/mongomatic/base.rb">lib/mongomatic/base.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-all">::all</a></li>
					
					<li><a href="#method-c-collection">::collection</a></li>
					
					<li><a href="#method-c-collection_name">::collection_name</a></li>
					
					<li><a href="#method-c-count">::count</a></li>
					
					<li><a href="#method-c-db">::db</a></li>
					
					<li><a href="#method-c-db%3D">::db=</a></li>
					
					<li><a href="#method-c-drop">::drop</a></li>
					
					<li><a href="#method-c-each">::each</a></li>
					
					<li><a href="#method-c-empty%3F">::empty?</a></li>
					
					<li><a href="#method-c-find">::find</a></li>
					
					<li><a href="#method-c-find_one">::find_one</a></li>
					
					<li><a href="#method-c-first">::first</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-%3D%3D">#==</a></li>
					
					<li><a href="#method-i-%5B%5D">#[]</a></li>
					
					<li><a href="#method-i-%5B%5D%3D">#[]=</a></li>
					
					<li><a href="#method-i-doc">#doc</a></li>
					
					<li><a href="#method-i-doc%3D">#doc=</a></li>
					
					<li><a href="#method-i-insert">#insert</a></li>
					
					<li><a href="#method-i-insert%21">#insert!</a></li>
					
					<li><a href="#method-i-is_new%3F">#is_new?</a></li>
					
					<li><a href="#method-i-merge">#merge</a></li>
					
					<li><a href="#method-i-new%3F">#new?</a></li>
					
					<li><a href="#method-i-reload">#reload</a></li>
					
					<li><a href="#method-i-remove">#remove</a></li>
					
					<li><a href="#method-i-remove%21">#remove!</a></li>
					
					<li><a href="#method-i-removed%3F">#removed?</a></li>
					
					<li><a href="#method-i-to_hash">#to_hash</a></li>
					
					<li><a href="#method-i-update">#update</a></li>
					
					<li><a href="#method-i-update%21">#update!</a></li>
					
					<li><a href="#method-i-valid%3F">#valid?</a></li>
					
					<li><a href="#method-i-validate">#validate</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><a class="include" href="Modifiers.html">Mongomatic::Modifiers</a></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="../LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="../Rakefile.html">Rakefile</a></li>
				
					<li class="file"><a href="../VERSION.html">VERSION</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../Mongomatic.html">Mongomatic</a></li>
				
					<li><a href="../Mongomatic/Base.html">Mongomatic::Base</a></li>
				
					<li><a href="../Mongomatic/Cursor.html">Mongomatic::Cursor</a></li>
				
					<li><a href="../Mongomatic/Errors.html">Mongomatic::Errors</a></li>
				
					<li><a href="../Mongomatic/Expectations.html">Mongomatic::Expectations</a></li>
				
					<li><a href="../Mongomatic/Expectations/Expectation.html">Mongomatic::Expectations::Expectation</a></li>
				
					<li><a href="../Mongomatic/Expectations/Expected.html">Mongomatic::Expectations::Expected</a></li>
				
					<li><a href="../Mongomatic/Expectations/Helper.html">Mongomatic::Expectations::Helper</a></li>
				
					<li><a href="../Mongomatic/Expectations/IsNumber.html">Mongomatic::Expectations::IsNumber</a></li>
				
					<li><a href="../Mongomatic/Expectations/Match.html">Mongomatic::Expectations::Match</a></li>
				
					<li><a href="../Mongomatic/Expectations/OfLength.html">Mongomatic::Expectations::OfLength</a></li>
				
					<li><a href="../Mongomatic/Expectations/Present.html">Mongomatic::Expectations::Present</a></li>
				
					<li><a href="../Mongomatic/Modifiers.html">Mongomatic::Modifiers</a></li>
				
					<li><a href="../Mongomatic/Modifiers/UnexpectedFieldType.html">Mongomatic::Modifiers::UnexpectedFieldType</a></li>
				
					<li><a href="../Test.html">Test</a></li>
				
					<li><a href="../Test/Unit.html">Test::Unit</a></li>
				
					<li><a href="../Test/Unit/TestCase.html">Test::Unit::TestCase</a></li>
				
					<li><a href="../TestMongomatic.html">TestMongomatic</a></li>
				
					<li><a href="../TestMongomatic/p.html">TestMongomatic::p</a></li>
				
					<li><a href="../Person.html">Person</a></li>
				
					<li><a href="../TestModifiers.html">TestModifiers</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">Mongomatic::Base</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="removed-attribute-method" class="method-detail">
				<a name="removed"></a>
				
				<a name="removed="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">removed</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="is-new-attribute-method" class="method-detail">
				<a name="is_new"></a>
				
				<a name="is_new="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">is_new</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="errors-attribute-method" class="method-detail">
				<a name="errors"></a>
				
				<a name="errors="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">errors</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="all-method" class="method-detail ">
				<a name="method-c-all"></a>

				<div class="method-heading">
				
					<span class="method-name">all</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return a <a href="Cursor.html">Mongomatic::Cursor</a> instance of all
documents in the collection.
</p>
					

					
					<div class="method-source-code"
						id="all-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 41</span>
41:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all</span>
42:         <span class="ruby-identifier">find</span>
43:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="collection-method" class="method-detail ">
				<a name="method-c-collection"></a>

				<div class="method-heading">
				
					<span class="method-name">collection</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return the raw MongoDB collection for this model
</p>
					

					
					<div class="method-source-code"
						id="collection-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 25</span>
25:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection</span>
26:         <span class="ruby-ivar">@collection</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">db</span>.<span class="ruby-identifier">collection</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">collection_name</span>)
27:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="collection-name-method" class="method-detail ">
				<a name="method-c-collection_name"></a>

				<div class="method-heading">
				
					<span class="method-name">collection_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Override this method on your model if you want to use a different
collection name
</p>
					

					
					<div class="method-source-code"
						id="collection-name-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 20</span>
20:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collection_name</span>
21:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">to_s</span>
22:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="count-method" class="method-detail ">
				<a name="method-c-count"></a>

				<div class="method-heading">
				
					<span class="method-name">count</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return the number of documents in the collection
</p>
					

					
					<div class="method-source-code"
						id="count-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count</span>
62:         <span class="ruby-identifier">find</span>.<span class="ruby-identifier">count</span>
63:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="db-method" class="method-detail ">
				<a name="method-c-db"></a>

				<div class="method-heading">
				
					<span class="method-name">db</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns this models own db attribute if set, otherwise will return
Mongomatic.db
</p>
					

					
					<div class="method-source-code"
						id="db-source">
<pre>
   <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 7</span>
7:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">db</span>
8:         <span class="ruby-ivar">@db</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Mongomatic</span>.<span class="ruby-identifier">db</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;No db supplied&quot;</span>)
9:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="db--method" class="method-detail ">
				<a name="method-c-db%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">db=</span><span
						class="method-args">(obj)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Override Mongomatic.db with a Mongo::DB instance for this model
specifically
</p>
<pre>
 MyModel.db = Mongo::Connection.new().db('mydb_mymodel')</pre>
					

					
					<div class="method-source-code"
						id="db--source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">db=</span>(<span class="ruby-identifier">obj</span>)
14:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">DB</span>)
15:           <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;Must supply a Mongo::DB object&quot;</span>)
16:         <span class="ruby-keyword kw">end</span>; <span class="ruby-ivar">@db</span> = <span class="ruby-identifier">obj</span>
17:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="drop-method" class="method-detail ">
				<a name="method-c-drop"></a>

				<div class="method-heading">
				
					<span class="method-name">drop</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="drop-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 65</span>
65:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">drop</span>
66:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_drop</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_drop</span>)
67:         <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">drop</span>
68:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_drop</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_drop</span>)
69:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-method" class="method-detail ">
				<a name="method-c-each"></a>

				<div class="method-heading">
				
					<span class="method-name">each</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Iterate over all documents in the collection (uses a <a
href="Cursor.html">Mongomatic::Cursor</a>)
</p>
					

					
					<div class="method-source-code"
						id="each-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 46</span>
46:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>
47:         <span class="ruby-identifier">find</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">found</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">found</span>) }
48:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="empty--method" class="method-detail ">
				<a name="method-c-empty%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">empty?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Is the collection empty? This method is much more efficient than doing
Collection.count == 0
</p>
					

					
					<div class="method-source-code"
						id="empty--source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 56</span>
56:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty?</span>
57:         <span class="ruby-identifier">find</span>.<span class="ruby-identifier">limit</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">has_next?</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
58:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="find-method" class="method-detail ">
				<a name="method-c-find"></a>

				<div class="method-heading">
				
					<span class="method-name">find</span><span
						class="method-args">(query={}, opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Query MongoDB for documents. Same arguments as <a
href="http://api.mongodb.org/ruby/current/Mongo/Collection.html#find-instance_method">api.mongodb.org/ruby/current/Mongo/Collection.html#find-instance_method</a>
</p>
					

					
					<div class="method-source-code"
						id="find-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 30</span>
30:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find</span>(<span class="ruby-identifier">query</span>={}, <span class="ruby-identifier">opts</span>={})
31:         <span class="ruby-constant">Mongomatic</span><span class="ruby-operator">::</span><span class="ruby-constant">Cursor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">query</span>, <span class="ruby-identifier">opts</span>))
32:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="find-one-method" class="method-detail ">
				<a name="method-c-find_one"></a>

				<div class="method-heading">
				
					<span class="method-name">find_one</span><span
						class="method-args">(query={}, opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Query MongoDB and return one document only. Same arguments as <a
href="http://api.mongodb.org/ruby/current/Mongo/Collection.html#find_one-instance_method">api.mongodb.org/ruby/current/Mongo/Collection.html#find_one-instance_method</a>
</p>
					

					
					<div class="method-source-code"
						id="find-one-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 35</span>
35:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_one</span>(<span class="ruby-identifier">query</span>={}, <span class="ruby-identifier">opts</span>={})
36:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">doc</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">find_one</span>(<span class="ruby-identifier">query</span>, <span class="ruby-identifier">opts</span>)
37:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">doc</span>, <span class="ruby-keyword kw">false</span>)
38:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="first-method" class="method-detail ">
				<a name="method-c-first"></a>

				<div class="method-heading">
				
					<span class="method-name">first</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return the first document in the collection
</p>
					

					
					<div class="method-source-code"
						id="first-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">first</span>
52:         <span class="ruby-identifier">find</span>.<span class="ruby-identifier">limit</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">next_document</span>
53:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(doc={}, is_new=true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 74</span>
74:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">doc</span>={}, <span class="ruby-identifier">is_new</span>=<span class="ruby-keyword kw">true</span>)
75:       <span class="ruby-ivar">@doc</span> = <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">stringify_keys</span>
76:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">removed</span> = <span class="ruby-keyword kw">false</span>
77:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">is_new</span>  = <span class="ruby-identifier">is_new</span>
78:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">errors</span>  = <span class="ruby-constant">Mongomatic</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span>.<span class="ruby-identifier">new</span>
79:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">==</span><span
						class="method-args">(obj)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Check equality with another <a href="../Mongomatic.html">Mongomatic</a>
document
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 133</span>
133:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">obj</span>)
134:       <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-ivar">@doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>]
135:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]</span><span
						class="method-args">(k)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Fetch a field (just like a hash):
</p>
<pre>
 mydoc[&quot;name&quot;]
  =&gt; &quot;Ben&quot;</pre>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 117</span>
117:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">k</span>)
118:       <span class="ruby-ivar">@doc</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>]
119:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]=</span><span
						class="method-args">(k,v)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Set a field on this document:
</p>
<pre>
 mydoc[&quot;name&quot;] = &quot;Ben&quot;
 mydoc[&quot;address&quot;] = { &quot;city&quot; =&gt; &quot;San Francisco&quot; }</pre>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 110</span>
110:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>)
111:       <span class="ruby-ivar">@doc</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">v</span>
112:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="insert-method" class="method-detail ">
				<a name="method-i-insert"></a>

				<div class="method-heading">
				
					<span class="method-name">insert</span><span
						class="method-args">(opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Insert the document into the database. Will return false if the document
has already been inserted or is invalid. Returns the generated
BSON::ObjectId for the new document. Will silently fail if MongoDB is
unable to insert the document, use insert! if you want an error raised
instead. Note that this will require an additional call to the db.
</p>
					

					
					<div class="method-source-code"
						id="insert-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 149</span>
149:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">insert</span>(<span class="ruby-identifier">opts</span>={})
150:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">new?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">valid?</span>
151:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_insert</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_insert</span>)
152:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_insert_or_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_insert_or_update</span>)
153:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-ivar">@doc</span>,<span class="ruby-identifier">opts</span>)
154:         <span class="ruby-ivar">@doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>] = <span class="ruby-ivar">@doc</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:_id</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@doc</span>[<span class="ruby-value">:_id</span>]
155:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">is_new</span> = <span class="ruby-keyword kw">false</span>
156:       <span class="ruby-keyword kw">end</span>
157:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_insert</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_insert</span>)
158:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_insert_or_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_insert_or_update</span>)
159:       <span class="ruby-identifier">ret</span>
160:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="insert--method" class="method-detail ">
				<a name="method-i-insert%21"></a>

				<div class="method-heading">
				
					<span class="method-name">insert!</span><span
						class="method-args">(opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Calls insert(&#8230;) with {:safe => true} passed in as an option. Will
check MongoDB after insert to make sure that the insert was successful, and
raise a Mongo::OperationError if there were any problems.
</p>
					

					
					<div class="method-source-code"
						id="insert--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 165</span>
165:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">insert!</span>(<span class="ruby-identifier">opts</span>={})
166:       <span class="ruby-identifier">insert</span>(<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
167:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="is-new--method" class="method-detail ">
				<a name="method-i-is_new%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">is_new?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="is-new--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 99</span>
 99:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">is_new?</span>
100:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">is_new</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
101:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="merge-method" class="method-detail ">
				<a name="method-i-merge"></a>

				<div class="method-heading">
				
					<span class="method-name">merge</span><span
						class="method-args">(hash)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Merge this document with the supplied hash. Useful for updates:
</p>
<pre>
 mydoc.merge(params[:user])</pre>
					

					
					<div class="method-source-code"
						id="merge-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 123</span>
123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>)
124:       <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span> }; <span class="ruby-ivar">@doc</span>
125:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new--method" class="method-detail ">
				<a name="method-i-new%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">new?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="new--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new?</span>
104:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">is_new</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
105:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="reload-method" class="method-detail ">
				<a name="method-i-reload"></a>

				<div class="method-heading">
				
					<span class="method-name">reload</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Reload the document from the database
</p>
					

					
					<div class="method-source-code"
						id="reload-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 138</span>
138:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>
139:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">find</span>({<span class="ruby-value str">&quot;_id&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>]}).<span class="ruby-identifier">next_document</span>
140:         <span class="ruby-ivar">@doc</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">doc</span>; <span class="ruby-keyword kw">true</span>
141:       <span class="ruby-keyword kw">end</span>
142:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove-method" class="method-detail ">
				<a name="method-i-remove"></a>

				<div class="method-heading">
				
					<span class="method-name">remove</span><span
						class="method-args">(opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Remove this document from the collection. Silently fails on error, use
remove! if you want an exception raised.
</p>
					

					
					<div class="method-source-code"
						id="remove-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 189</span>
189:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-identifier">opts</span>={})
190:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new?</span>
191:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_remove</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_remove</span>)
192:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">remove</span>({<span class="ruby-value str">&quot;_id&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>]})
193:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">removed</span> = <span class="ruby-keyword kw">true</span>; <span class="ruby-identifier">freeze</span>; <span class="ruby-identifier">ret</span>
194:       <span class="ruby-keyword kw">end</span>
195:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_remove</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_remove</span>)
196:       <span class="ruby-identifier">ret</span>
197:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove--method" class="method-detail ">
				<a name="method-i-remove%21"></a>

				<div class="method-heading">
				
					<span class="method-name">remove!</span><span
						class="method-args">(opts={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Like remove(&#8230;) but raises Mongo::OperationError if MongoDB is unable
to remove the document.
</p>
					

					
					<div class="method-source-code"
						id="remove--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 201</span>
201:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove!</span>(<span class="ruby-identifier">opts</span>={})
202:       <span class="ruby-identifier">remove</span>(<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
203:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="removed--method" class="method-detail ">
				<a name="method-i-removed%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">removed?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Will return true if the document has been removed.
</p>
					

					
					<div class="method-source-code"
						id="removed--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 128</span>
128:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">removed?</span>
129:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">removed</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
130:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-hash-method" class="method-detail ">
				<a name="method-i-to_hash"></a>

				<div class="method-heading">
				
					<span class="method-name">to_hash</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return this document as a hash.
</p>
					

					
					<div class="method-source-code"
						id="to-hash-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 206</span>
206:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_hash</span>
207:       <span class="ruby-ivar">@doc</span> <span class="ruby-operator">||</span> {}
208:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="update-method" class="method-detail ">
				<a name="method-i-update"></a>

				<div class="method-heading">
				
					<span class="method-name">update</span><span
						class="method-args">(opts={},update_doc=@doc)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Will persist any changes you have made to the document. Will silently fail
if MongoDB is unable to update the document, use update! instead if you
want an error raised. Note that this will require an additional call to the
db.
</p>
					

					
					<div class="method-source-code"
						id="update-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 172</span>
172:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">opts</span>={},<span class="ruby-identifier">update_doc</span>=<span class="ruby-ivar">@doc</span>)
173:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">removed?</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">valid?</span>
174:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_update</span>)
175:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_insert_or_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_insert_or_update</span>)
176:       <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">update</span>({<span class="ruby-value str">&quot;_id&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@doc</span>[<span class="ruby-value str">&quot;_id&quot;</span>]}, <span class="ruby-identifier">update_doc</span>, <span class="ruby-identifier">opts</span>)
177:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_update</span>)
178:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_insert_or_update</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_insert_or_update</span>)
179:       <span class="ruby-identifier">ret</span>
180:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="update--method" class="method-detail ">
				<a name="method-i-update%21"></a>

				<div class="method-heading">
				
					<span class="method-name">update!</span><span
						class="method-args">(opts={},update_doc=@doc)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Same as update(&#8230;) but will raise a Mongo::OperationError in case of
any issues.
</p>
					

					
					<div class="method-source-code"
						id="update--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 183</span>
183:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update!</span>(<span class="ruby-identifier">opts</span>={},<span class="ruby-identifier">update_doc</span>=<span class="ruby-ivar">@doc</span>)
184:       <span class="ruby-identifier">update</span>(<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>),<span class="ruby-identifier">update_doc</span>)
185:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="valid--method" class="method-detail ">
				<a name="method-i-valid%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">valid?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="valid--source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 91</span>
91:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">valid?</span>
92:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">errors</span> = <span class="ruby-constant">Mongomatic</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span>.<span class="ruby-identifier">new</span>
93:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:before_validate</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:before_validate</span>)
94:       <span class="ruby-identifier">validate</span>
95:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:after_validate</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:after_validate</span>)
96:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">empty?</span>
97:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="validate-method" class="method-detail ">
				<a name="method-i-validate"></a>

				<div class="method-heading">
				
					<span class="method-name">validate</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Override this with your own validate() method for validations. Simply push
your errors into the self.errors property and if self.errors remains empty
your document will be valid.
</p>
<pre>
 def validate
   self.errors &lt;&lt; [&quot;name&quot;, &quot;cannot be blank&quot;]
 end</pre>
					

					
					<div class="method-source-code"
						id="validate-source">
<pre>
    <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 87</span>
87:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>
88:       <span class="ruby-keyword kw">true</span>
89:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="protected-instance-method-details" class="method-section section">
			<h3 class="section-header">Protected Instance Methods</h3>

		
			<div id="doc-method" class="method-detail ">
				<a name="method-i-doc"></a>

				<div class="method-heading">
				
					<span class="method-name">doc</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="doc-source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 212</span>
212:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doc</span>
213:       <span class="ruby-ivar">@doc</span>
214:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="doc--method" class="method-detail ">
				<a name="method-i-doc%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">doc=</span><span
						class="method-args">(v)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="doc--source">
<pre>
     <span class="ruby-comment cmt"># File lib/mongomatic/base.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doc=</span>(<span class="ruby-identifier">v</span>)
217:       <span class="ruby-ivar">@doc</span> = <span class="ruby-identifier">v</span>
218:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

